/* üé® Light Mode */
:root {
  --cal-bg: #ffffff;
  --cal-card: #f9fafb;
  --cal-border: #e5e7eb;
  --cal-text-primary: #111827;
  --cal-text-secondary: #4b5563;
  --cal-accent-purple: #7C3AED;
  --cal-accent-blue: #2563eb;
  --cal-accent-light: #3b82f6;
}

/* üåô Dark Mode - Mejorado con mayor contraste */
.dark {
  --cal-bg: #121826;
  --cal-card: #1E293B;
  --cal-border: #334155;
  --cal-text-primary: #F1F5F9;
  --cal-text-secondary: #CBD5E1;
  --cal-accent-purple: #8B5CF6;
  --cal-accent-blue: #60A5FA;
  --cal-accent-light: #BAE6FD;
  
  /* Nuevos colores para mejor contraste del d√≠a actual */
  --cal-today-bg: rgba(139, 92, 246, 0.3);
  --cal-today-border: rgba(167, 139, 250, 0.6);
  --cal-hover-bg: rgba(30, 41, 59, 0.8);
}

/* Fondo general del calendario */
.rbc-calendar {
  background-color: var(--cal-bg) !important;
  color: var(--cal-text-primary) !important;
  font-weight: 400;
  border-color: var(--cal-border-dark, #4A5568) !important;
  opacity: 0.9;
}

/* CELDAS CON FONDO #373739 */
.dark .rbc-calendar .rbc-day-bg,
.rbc-calendar.dark .rbc-day-bg,
.dark .rbc-calendar .rbc-time-content,
.rbc-calendar.dark .rbc-time-content {
  background-color: var(--cal-card-dark) !important;
  border-color: var(--cal-border-dark) !important;
}

/* TEXTO EN CELDAS */
.dark .rbc-calendar .rbc-date-cell,
.rbc-calendar.dark .rbc-date-cell {
  color: var(--cal-text-primary) !important;
  font-weight: 400;
}

.dark .rbc-calendar .rbc-off-range,
.rbc-calendar.dark .rbc-off-range {
  color: var(--cal-text-secondary) !important;
  opacity: 0.6;
}

/* D√çA ACTUAL */
.dark .rbc-calendar .rbc-today,
.rbc-calendar.dark .rbc-today {
  background-color: var(--cal-highlight) !important;
}

.dark .rbc-calendar .rbc-today .rbc-date-cell,
.rbc-calendar.dark .rbc-today .rbc-date-cell {
  color: var(--cal-accent) !important;
  font-weight: 600;
}

/* EVENTOS CON AZUL PROFESIONAL */
.dark .rbc-calendar .rbc-event,
.rbc-calendar.dark .rbc-event {
  background-color: var(--cal-accent) !important;
  color: #1a1a1a !important; /* Texto oscuro para buen contraste con azul */
  border: none !important;
  border-radius: 4px;
  font-weight: 500;
  font-size: 0.85rem;
  padding: 2px 4px;
}

.dark .rbc-calendar .rbc-event:hover,
.rbc-calendar.dark .rbc-event:hover {
  background-color: var(--cal-accent-hover) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* BOTONES DE HERRAMIENTAS */
.dark .rbc-calendar .rbc-toolbar button,
.rbc-calendar.dark .rbc-toolbar button {
  color: var(--cal-text-secondary) !important;
  border: 1px solid var(--cal-border-dark) !important;
  background-color: var(--cal-card-dark) !important;
  border-radius: 6px;
  padding: 6px 12px;
  font-weight: 500;
  transition: all 0.2s ease;
}

.dark .rbc-calendar .rbc-toolbar button:hover,
.rbc-calendar.dark .rbc-toolbar button:hover {
  background-color: var(--cal-highlight) !important;
  color: var(--cal-text-primary) !important;
  border-color: var(--cal-accent) !important;
}

.dark .rbc-calendar .rbc-toolbar button:active,
.dark .rbc-calendar .rbc-toolbar button.rbc-active,
.rbc-calendar.dark .rbc-toolbar button:active,
.rbc-calendar.dark .rbc-toolbar button.rbc-active {
  background-color: var(--cal-accent) !important;
  color: #1a1a1a !important;
  border-color: var(--cal-accent) !important;
}

/* VISTA DE TIEMPO */
.dark .rbc-calendar .rbc-time-slot,
.rbc-calendar.dark .rbc-time-slot {
  color: var(--cal-text-secondary) !important;
  border-color: var(--cal-border-dark) !important;
  font-size: 0.8rem;
}

.dark .rbc-calendar .rbc-current-time-indicator,
.rbc-calendar.dark .rbc-current-time-indicator {
  background-color: var(--cal-current-time) !important;
  height: 2px;
}

/* BARRAS DE DESPLAZAMIENTO */
.dark .rbc-calendar ::-webkit-scrollbar,
.rbc-calendar.dark ::-webkit-scrollbar {
  width: 8px;
}

.dark .rbc-calendar ::-webkit-scrollbar-track,
.rbc-calendar.dark ::-webkit-scrollbar-track {
  background: var(--cal-card-dark);
}

.dark .rbc-calendar ::-webkit-scrollbar-thumb,
.rbc-calendar.dark ::-webkit-scrollbar-thumb {
  background: var(--cal-border-dark);
  border-radius: 4px;
}

.dark .rbc-calendar ::-webkit-scrollbar-thumb:hover,
.rbc-calendar.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--cal-text-secondary);
}

/* EFECTOS DE TRANSICI√ìN */
.dark .rbc-calendar .rbc-event,
.rbc-calendar.dark .rbc-event,
.dark .rbc-calendar .rbc-toolbar button,
.rbc-calendar.dark .rbc-toolbar button {
  transition: all 0.2s ease-in-out;
}

/* REDUCIR CONTRASTE EXCESIVO */
.rbc-month-view,
.rbc-time-view,
.rbc-agenda-view {
  border-color: var(--cal-border-dark, #4A5568) !important;
  border-width: 1px;
}

/* Celdas (d√≠as) */
.rbc-month-view,
.rbc-time-view,
.rbc-day-bg,
.rbc-month-row {
  background-color: var(--cal-bg) !important;
  border-color: var(--cal-border) !important;
}

/* Cabeceras de d√≠as (LUN, MAR, etc.) */
.rbc-header {
  background-color: var(--cal-card) !important;
  color: var(--cal-text-secondary) !important;
  border-color: var(--cal-border) !important;
  font-weight: 600;
  text-transform: uppercase;
}

/* Eventos */
.rbc-event {
  background-color: var(--cal-accent-purple) !important;
  color: white !important;
  border-radius: 8px !important;
  padding: 2px 4px !important;
}

/* Bordes */
.rbc-month-row + .rbc-month-row,
.rbc-day-bg + .rbc-day-bg {
  border-color: var(--cal-border) !important;
}

/* ESTILOS PASTELES PARA LAS CLASES que seleccionan el dia de la semana y el dia mismo */

/* .rbc-time-column - Columna de horas */
.rbc-time-view .rbc-time-column {
  background-color: #f0f0ff !important;
  border-right: 1px solid #d7d7f7 !important;
}

.dark .rbc-time-view .rbc-time-column {
  background-color: rgba(151, 151, 246, 0.15) !important;
  border-right: 1px solid #6a6ae4 !important;
}

/* .rbc-day-slot - Celdas de d√≠a */
.rbc-time-view .rbc-day-slot {
  background-color: #fafaff !important;
  border-right: 1px solid #e8e8fd !important;
}

.dark .rbc-time-view .rbc-day-slot {
  background-color: rgba(151, 151, 246, 0.08) !important;
  border-right: 1px solid #7a7aeb !important;
}

/* .rbc-now - Elementos con hora actual */
.rbc-now {
  background-color: #e8e8ff !important;
  color: #5c5cbd !important;
}

.dark .rbc-now {
  background-color: rgba(151, 151, 246, 0.2) !important;
  color: #d0d0f9 !important;
}

/* .rbc-today - D√≠a actual */
.rbc-today {
  background-color: #e3e3ff !important;
}

/* Estilo especial para la celda de hoy en la vista de d√≠a */
.rbc-day-slot.rbc-today {
  background-color: #e8e8ff !important;
  box-shadow: inset 0 0 0 2px #9797F6;
}

/* AQUI ES DONDE SE MEJOR√ì EL CONTRASTE PARA EL D√çA ACTUAL */
.dark .rbc-day-slot.rbc-today  {
  background-color: rgba(139, 92, 246, 0.25) !important;
  box-shadow: inset 0 0 0 2px var(--cal-today-border, rgba(167, 139, 250, 0.6));
}

/* Estilo para la hora actual en la columna de tiempo */
.rbc-time-column .rbc-now {
  font-weight: bold;
  color: #5c5cbd !important;
}

.dark .rbc-time-column .rbc-now {
  color: #d0d0f9 !important;
}

/* Efectos de hover para mejor interactividad */
.rbc-day-slot:hover {
  background-color: #f0f0ff !important;
}

.dark .rbc-day-slot:hover {
  background-color: rgba(151, 151, 246, 0.12) !important;
}

.rbc-today:hover {
  background-color: #d8d8ff !important;
}

.dark .rbc-today:hover {
  background-color: rgba(151, 151, 246, 0.3) !important;
}